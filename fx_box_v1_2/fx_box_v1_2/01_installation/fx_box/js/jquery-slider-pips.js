!function(a){"use strict";var b={pips:function(b){function p(b){var d,e,f,g,h,i=[],j=0;if(c.values()&&c.values().length){for(f=c.values(),g=a.map(f,function(a){return Math.abs(a-b)}),h=Math.min.apply(Math,g),d=0;d<g.length;d++)g[d]===h&&i.push(d);for(j=i[0],e=0;e<i.length;e++)c._lastChangedValue===i[e]&&(j=i[e]);c.options.range&&2===i.length&&(b>f[1]?j=i[1]:b<f[0]&&(j=i[0]))}return j}function q(){c.element.off(".selectPip").on("mousedown.slider",c.element.data("mousedown-original")).removeClass("ui-slider-pips").find(".ui-slider-pip").remove()}function r(b,d){if(!c.option("disabled")){var e=a(b).data("value"),f=p(e);c.values()&&c.values().length?c.options.values[f]=c._trimAlignValue(e):c.options.value=c._trimAlignValue(e),c._refreshValue(),c._change(d,f)}}function s(b){var e,f,o,p,q,g=b,h="ui-slider-pip",j="",l=c.value(),m=c.values();if("first"===b?g=0:"last"===b&&(g=k),o=i+c.options.step*g,p=o.toString().replace(".","-"),q=g+i-i,e="array"===a.type(n.labels)?n.labels[q]||"":"object"===a.type(n.labels)?"first"===b?n.labels.first||"":"last"===b?n.labels.last||"":"array"===a.type(n.labels.rest)?n.labels.rest[q-1]||"":o:o,"first"===b?(f="0%",h+=" ui-slider-pip-first",h+="label"===n.first?" ui-slider-pip-label":"",h+=!1===n.first?" ui-slider-pip-hide":""):"last"===b?(f="100%",h+=" ui-slider-pip-last",h+="label"===n.last?" ui-slider-pip-label":"",h+=!1===n.last?" ui-slider-pip-hide":""):(f=(100/k*b).toFixed(4)+"%",h+="label"===n.rest?" ui-slider-pip-label":"",h+=!1===n.rest?" ui-slider-pip-hide":""),h+=" ui-slider-pip-"+p,m&&m.length){for(d=0;d<m.length;d++)o===m[d]&&(h+=" ui-slider-pip-initial-"+(d+1),h+=" ui-slider-pip-selected-"+(d+1));c.options.range&&o>m[0]&&o<m[1]&&(h+=" ui-slider-pip-inrange")}else o===l&&(h+=" ui-slider-pip-initial",h+=" ui-slider-pip-selected"),c.options.range&&("min"===c.options.range&&o<l||"max"===c.options.range&&o>l)&&(h+=" ui-slider-pip-inrange");return j="horizontal"===c.options.orientation?"left: "+f:"bottom: "+f,'<span class="'+h+'" style="'+j+'"><span class="ui-slider-line"></span><span class="ui-slider-label" data-value="'+o+'">'+n.formatLabel(e)+"</span></span>"}var d,e,f,h,m,c=this,g="",i=c._valueMin(),j=c._valueMax(),k=(j-i)/c.options.step,l=c.element.find(".ui-slider-handle"),n={first:"label",last:"label",rest:"pip",labels:!1,prefix:"",suffix:"",step:k>100?Math.floor(.05*k):1,formatLabel:function(a){return this.prefix+a+this.suffix}};if("object"!==a.type(b)&&"undefined"!==a.type(b))return void("destroy"===b?q():"refresh"===b&&c.element.slider("pips",c.element.data("pips-options")));a.extend(n,b),c.element.data("pips-options",n),c.options.pipStep=Math.abs(Math.round(n.step))||1,c.element.off(".selectPip").addClass("ui-slider-pips").find(".ui-slider-pip").remove();var o={single:function(b){this.resetClasses(),m.filter(".ui-slider-pip-"+this.classLabel(b)).addClass("ui-slider-pip-selected"),c.options.range&&m.each(function(d,e){var f=a(e).children(".ui-slider-label").data("value");("min"===c.options.range&&f<b||"max"===c.options.range&&f>b)&&a(e).addClass("ui-slider-pip-inrange")})},range:function(b){for(this.resetClasses(),d=0;d<b.length;d++)m.filter(".ui-slider-pip-"+this.classLabel(b[d])).addClass("ui-slider-pip-selected-"+(d+1));c.options.range&&m.each(function(c,d){var e=a(d).children(".ui-slider-label").data("value");e>b[0]&&e<b[1]&&a(d).addClass("ui-slider-pip-inrange")})},classLabel:function(a){return a.toString().replace(".","-")},resetClasses:function(){var a=/(^|\s*)(ui-slider-pip-selected|ui-slider-pip-inrange)(-{1,2}\d+|\s|$)/gi;m.removeClass(function(b,c){return(c.match(a)||[]).join(" ")})}};for(g+=s("first"),f=c.options.pipStep;f<k;f+=c.options.pipStep)g+=s(f);for(g+=s("last"),c.element.append(g),m=c.element.find(".ui-slider-pip"),h=a._data(c.element.get(0),"events").mousedown&&a._data(c.element.get(0),"events").mousedown.length?a._data(c.element.get(0),"events").mousedown:c.element.data("mousedown-handlers"),c.element.data("mousedown-handlers",h.slice()),e=0;e<h.length;e++)"slider"===h[e].namespace&&c.element.data("mousedown-original",h[e].handler);c.element.off("mousedown.slider").on("mousedown.selectPip",function(b){var d=a(b.target),e=p(d.data("value")),f=l.eq(e);if(f.addClass("ui-state-active"),d.is(".ui-slider-label"))r(d,b),c.element.one("mouseup.selectPip",function(){f.removeClass("ui-state-active").focus()});else{c.element.data("mousedown-original")(b)}}),c.element.on("slide.selectPip slidechange.selectPip",function(b,d){var e=a(this),f=e.slider("value"),g=e.slider("values");d&&(f=d.value,g=d.values),c.values()&&c.values().length?o.range(g):o.single(f)})},float:function(b){function l(){d.element.off(".sliderFloat").removeClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove()}function m(b){var g=[],h=a.map(b,function(a){return Math.ceil((a-e)/d.options.step)});if("array"===a.type(k.labels))for(c=0;c<b.length;c++)g[c]=k.labels[h[c]]||b[c];else if("object"===a.type(k.labels))for(c=0;c<b.length;c++)b[c]===e?g[c]=k.labels.first||e:b[c]===f?g[c]=k.labels.last||f:"array"===a.type(k.labels.rest)?g[c]=k.labels.rest[h[c]-1]||b[c]:g[c]=b[c];else for(c=0;c<b.length;c++)g[c]=b[c];return g}var c,d=this,e=d._valueMin(),f=d._valueMax(),g=d._value(),h=d._values(),i=[],j=d.element.find(".ui-slider-handle"),k={handle:!0,pips:!1,labels:!1,prefix:"",suffix:"",event:"slidechange slide",formatLabel:function(a){return this.prefix+a+this.suffix}};if("object"!==a.type(b)&&"undefined"!==a.type(b))return void("destroy"===b?l():"refresh"===b&&d.element.slider("float",d.element.data("float-options")));if(a.extend(k,b),d.element.data("float-options",k),g<e&&(g=e),g>f&&(g=f),h&&h.length)for(c=0;c<h.length;c++)h[c]<e&&(h[c]=e),h[c]>f&&(h[c]=f);if(d.element.addClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove(),k.handle)for(i=m(d.values()&&d.values().length?h:[g]),c=0;c<i.length;c++)j.eq(c).append(a('<span class="ui-slider-tip">'+k.formatLabel(i[c])+"</span>"));k.pips&&d.element.find(".ui-slider-label").each(function(b,c){var f,d=a(c),e=[d.data("value")];f=k.formatLabel(m(e)[0]),a('<span class="ui-slider-tip-label">'+f+"</span>").insertAfter(d)}),"slide"!==k.event&&"slidechange"!==k.event&&"slide slidechange"!==k.event&&"slidechange slide"!==k.event&&(k.event="slidechange slide"),d.element.off(".sliderFloat").on(k.event+".sliderFloat",function(b,c){var d="array"===a.type(c.value)?c.value:[c.value],e=k.formatLabel(m(d)[0]);a(c.handle).find(".ui-slider-tip").html(e)})}};a.extend(!0,a.ui.slider.prototype,b)}(jQuery);